---
- hosts: all
  become: yes
  tasks:
    - name: disable selinux
      selinux:
        state: disabled
        
- hosts: manager1
  become: yes
  roles:
    - httpd

- hosts: managers
  become: yes
  roles:
    - ntp    
    - pki
    - docker
    - docker-registry
    - kubelet
    - etcd
    - kube-manager
    - canal

- hosts: workers
  become: yes
  roles:
    - ntp
    - pki
    - docker
    - kubelet
    - kube-worker
    - canal

